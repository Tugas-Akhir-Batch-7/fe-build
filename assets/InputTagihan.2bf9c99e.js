import{_ as c,o as r,c as n,a as t,w as u,b as d,h,F as f,i as p,v as m,t as _}from"./index.6b43fdec.js";const b={data(){return{form:{tagihan:"",dp:"",id_murid:""},listData:[]}},computed:{listMuridMendaftar(){return this.$store.getters["murid/listMurid"]}},async beforeCreate(){await this.$store.dispatch("murid/fetchMuridMendaftar")},methods:{async onSubmit(){try{await this.$store.dispatch("tagihan/createTagihan",this.form),await this.$router.push("/admin/list-tagihan")}catch{}},async onChangeMurid(o){console.log(o.target.value);let i=this.listMuridMendaftar.find(l=>l.id==o.target.value);this.form.tagihan=i.pay},clickSetLunas(){this.form.dp=this.form.tagihan}}},g={class:"container p-4"},v={class:"row"},M={class:"col-8"},y=t("h2",null,"Input Tagihan",-1),S={class:"my-4"},k={class:"mb-3"},x=t("label",{for:"murid",class:"form-label"},"Murid",-1),w=t("option",{value:"",disabled:""},"Pilih Murid",-1),T=["value"],C={class:"mb-3"},L=t("label",{for:"tagihan",class:"form-label"},"Total Tagihan",-1),D={class:"mb-3"},V=t("label",{for:"dp",class:"form-label"},"DP",-1),B={class:"d-flex"},U=["max"],F=t("div",{class:"my-4"},[t("input",{class:"btn btn-primary",type:"submit",value:"Submit"})],-1);function I(o,i,l,P,a,e){return r(),n("div",g,[t("div",v,[t("div",M,[y,t("div",S,[t("form",{onSubmit:i[5]||(i[5]=u((...s)=>e.onSubmit&&e.onSubmit(...s),["prevent"]))},[t("div",k,[x,d(t("select",{name:"murid",id:"murid",class:"form-control","onUpdate:modelValue":i[0]||(i[0]=s=>a.form.id_murid=s),onChange:i[1]||(i[1]=s=>e.onChangeMurid(s))},[w,(r(!0),n(f,null,p(e.listMuridMendaftar,s=>(r(),n("option",{value:s.id,key:s.id},_(s.name),9,T))),128))],544),[[h,a.form.id_murid]])]),t("div",C,[L,d(t("input",{disabled:"","onUpdate:modelValue":i[2]||(i[2]=s=>a.form.tagihan=s),type:"number",class:"form-control",id:"tagihan",placeholder:"Total tagihan akan tergenerate otomatis sesuai murid yang dipilih"},null,512),[[m,a.form.tagihan]])]),t("div",D,[V,t("div",B,[d(t("input",{"onUpdate:modelValue":i[3]||(i[3]=s=>a.form.dp=s),type:"number",class:"form-control",id:"dp",placeholder:"contoh: 1000000",max:a.form.tagihan,required:""},null,8,U),[[m,a.form.dp]]),t("button",{onClick:i[4]||(i[4]=u((...s)=>e.clickSetLunas&&e.clickSetLunas(...s),["prevent"])),class:"btn btn-success ms-4 px-4"},"Lunas")])]),F],32)])])])])}var E=c(b,[["render",I]]);export{E as default};
