import{p as A,o as s,c as a,a as t,d as V,F as y,i as k,k as h,t as c,q as S,g as P,s as f,b as O,v as L,x as $}from"./index.6b43fdec.js";import{s as z}from"./sidebar.0b0d547a.js";var F={exports:{}};class H{convertToText(e){throw new Error("convertToText is not implemented by "+this.constructor.name+" .")}}var N=H;const M=N,T={};class E{constructor(){this.Converter=M}convertToText(e,o){o=o||{};const l=(o.language||"en-us").toLowerCase();if(Object.prototype.hasOwnProperty.call(T,l))return T[l].convertToText(e,o);throw new Error('converter for language "'+l+'" not found.')}addConverter(e,o){if(Object.prototype.hasOwnProperty.call(T,e))return!1;if(o instanceof M)T[e]=o;else throw new Error("language converter is not instance of converter")}}var B=new E;(function(n){const e=B,o=["","Thousand","Million","Billion","Trillion","Quadrillion","Quintillion"],l=["","One","Two","Three","Four","Five","Six","Seven","Eight","Nine","Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"],i=["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"],r=["titleCase","lowerCase","upperCase"],p=[String.prototype.toString,String.prototype.toLowerCase,String.prototype.toUpperCase];class m extends e.Converter{constructor(){super(),e.addConverter("en-us",this)}convertToText(b,g){g=g||{},g.separator!==""&&(g.separator=g.separator||","),r.indexOf(g.case)===-1&&(g.case=r[0]);const C=p[r.indexOf(g.case)],j=[];if((typeof b=="number"||b instanceof Number)&&(b=b.toString()),b==="0")return C.call("Zero");const _=b.match(/.{1,}(?=(...){5}(...)$)|.{1,3}(?=(...){0,5}$)|.{1,3}$/g);for(let v=0;v<_.length;++v){const u=[],d=_[v];d.length>3?u.push(n.exports.convertToText(d)):(d.length===3&&l[d.charAt(0)]&&(u.push(l[d.charAt(0)]),u.push("Hundred"),(l[d.charAt(1)]||l[d.charAt(2)])&&u.push("And")),d.length>=2?d.substr(-2,1)==="1"?u.push(l[d.substr(-2,2)]):(i[d.substr(-2,1)]&&u.push(i[d.substr(-2,1)]),l[d.substr(-1,1)]&&u.push(l[d.substr(-1,1)])):u.push(l[d.charAt(0)])),o[_.length-1-v]&&u.length>0&&u.push(o[_.length-1-v]),u.length>0&&j.push(u.join(" "))}return C.call(j.join(g.separator+" "))}}n.exports=new m})(F);var w=F.exports;const D={class:"d-flex flex-nowrap"},U={class:"d-flex flex-column flex-fill p-3"},x=t("div",{class:"nav-tabs d-flex justify-content-between"},[t("h3",{class:"nav-link active bg-light text-warning"},"Pertemuan"),t("div",{class:"d-flex align-items-center"})],-1),R={class:"accordion"},J=$('<div class="accordion-item"><h2 class="accordion-header"><div class="collapsed p-3"><div class="col d-flex flex-column position-static"><div class="mb-2" style="border-radius:10px;background-color:rgb(240, 240, 240);color:rgb(240, 240, 240);">none</div><p class="card-text mb-auto" style="border-radius:10px;background-color:rgb(240, 240, 240);color:rgb(240, 240, 240);">none</p></div></div></h2></div>',1),Y=[J],K={key:1,class:"text-center p-3"},Q={class:"accordion"},q={class:"accordion-item"},G=["id"],I=["data-bs-target","aria-controls"],Z={class:"col d-flex flex-column position-static"},W={class:"mb-1 text-muted"},X={class:"card-text mb-auto"},ee=["id","aria-labelledby"],te={class:"accordion-body"},se={key:0},ae={class:""},ne={key:0,class:"text-center",style:{margin:"0px 1% 2% 1%"}},ie={key:1,class:"text-center",style:{margin:"0px 1% 2% 1%"}},oe={key:2,class:"",style:{margin:"0px 1% 2% 1%"}},le=t("div",{class:"shadow-sm p-1 mb-2 bg-body rounded"},[t("h5",{class:"navbar-brand text-warning text-center"},"Materi")],-1),re={class:"card mb-1",style:{}},de={class:"d-flex"},ce={key:0,class:"w-25"},he=["src","alt"],ue={class:"w-100 d-flex"},ge={class:"card-body p-2"},pe={style:{margin:"0px"},class:"card-title"},me={class:"card-text"},be=["onClick"],ve=t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-file-earmark-arrow-down",viewBox:"0 0 16 16"},[t("path",{d:"M8.5 6.5a.5.5 0 0 0-1 0v3.793L6.354 9.146a.5.5 0 1 0-.708.708l2 2a.5.5 0 0 0 .708 0l2-2a.5.5 0 0 0-.708-.708L8.5 10.293V6.5z"}),t("path",{d:"M14 14V4.5L9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2zM9.5 3A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5.5v2z"})],-1),ye=[ve],fe={key:3,class:"text-center",style:{margin:"0px 1% 2% 1%"}},we={key:4,class:"",style:{margin:"0px 1% 2% 1%"}},_e=t("div",{class:"shadow-sm p-1 mb-2 bg-body rounded"},[t("h5",{class:"navbar-brand text-warning text-center"},"Tugas")],-1),ke={class:"table table-hover"},Pe={class:"text-center"},Te={scope:"col"},Ce=["onClick"],je=t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-repeat",viewBox:"0 0 16 16"},[t("path",{d:"M11.534 7h3.932a.25.25 0 0 1 .192.41l-1.966 2.36a.25.25 0 0 1-.384 0l-1.966-2.36a.25.25 0 0 1 .192-.41zm-11 2h3.932a.25.25 0 0 0 .192-.41L2.692 6.23a.25.25 0 0 0-.384 0L.342 8.59A.25.25 0 0 0 .534 9z"}),t("path",{"fill-rule":"evenodd",d:"M8 3c-1.552 0-2.94.707-3.857 1.818a.5.5 0 1 1-.771-.636A6.002 6.002 0 0 1 13.917 7H12.9A5.002 5.002 0 0 0 8 3zM3.1 9a5.002 5.002 0 0 0 8.757 2.182.5.5 0 1 1 .771.636A6.002 6.002 0 0 1 2.083 9H3.1z"})],-1),Se=[je],Me=t("th",{scope:"col"},"Tugas",-1),Ae=t("th",{scope:"col"},"Keterangan",-1),Fe=t("th",{scope:"col"},null,-1),Ve=t("th",{scope:"col"},"Submit Link",-1),Oe=t("th",{scope:"col"},"Score",-1),Le={style:{width:"3%"},class:"text-center"},$e={style:{width:"25%"},class:""},ze={style:{width:"41%"},class:""},He={style:{width:"3%"},class:""},Ne=["onClick"],Ee=t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-file-earmark-check",viewBox:"0 0 16 16"},[t("path",{d:"M10.854 7.854a.5.5 0 0 0-.708-.708L7.5 9.793 6.354 8.646a.5.5 0 1 0-.708.708l1.5 1.5a.5.5 0 0 0 .708 0l3-3z"}),t("path",{d:"M14 14V4.5L9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2zM9.5 3A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5.5v2z"})],-1),Be=[Ee],De=["onClick"],Ue=t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-file-earmark-diff",viewBox:"0 0 16 16"},[t("path",{d:"M8 5a.5.5 0 0 1 .5.5V7H10a.5.5 0 0 1 0 1H8.5v1.5a.5.5 0 0 1-1 0V8H6a.5.5 0 0 1 0-1h1.5V5.5A.5.5 0 0 1 8 5zm-2.5 6.5A.5.5 0 0 1 6 11h4a.5.5 0 0 1 0 1H6a.5.5 0 0 1-.5-.5z"}),t("path",{d:"M14 14V4.5L9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2zM9.5 3A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5.5v2z"})],-1),xe=[Ue],Re={key:0,style:{width:"25%"},class:""},Je=["onUpdate:modelValue"],Ye={key:1,style:{width:"25%"},class:""},Ke={style:{width:"3%"},class:"text-center"},Qe={key:1,class:"text-center p-3"},qe=t("div",{class:"spinner-border text-warning",role:"status"},[t("span",{class:"visually-hidden"},"Loading...")],-1),Ge=[qe],Ie={key:2,"aria-label":"Page navigation example",style:{"margin-top":"2%"}},Ze={class:"pagination justify-content-center"},We={key:0,class:"page-item"},Xe={key:1,class:""},et=t("button",{class:"page-link",style:{}},". . .",-1),tt=[et],st={key:2,class:"page-item"},at={class:"page-item active"},nt={class:"page-link bg-warning border border-warning"},it={key:3,class:"page-item"},ot={key:4,class:""},lt=t("button",{class:"page-link",style:{}},". . .",-1),rt=[lt],dt={key:5,class:"page-item"},ct={key:0,class:"min-vw-100 position-fixed top-0 text-center",style:{}};A().format();const ht={data:()=>({listPertemuan:[],listPertemuanC:[],page:1,jumlah:[0,0,0,0,0,0,0,0,0,0],listTugasBaru:{},displayAddTugasP:!1,listSubmitTugas:{},viewFile:{},displayMessage:!1}),async mounted(){try{let n=document.createElement("script");n.setAttribute("src","https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js"),document.head.appendChild(n),P.defaults.headers.common.token=await this.$store.getters["auth/token"],this.listPertemuan=(await P.get("murid/dataPertemuan/",{})).data.data,this.listPertemuan.length==0&&(this.listPertemuan=!1);for(let e=0;e<this.listPertemuan.length;e++)this.listPertemuan[e].date1=A(this.listPertemuan[e].date).format("dddd, DD MMMM YYYY, HH:mm");this.listPertemuanC=JSON.parse(JSON.stringify(this.listPertemuan))}catch(n){console.log("error"),console.log(n)}},methods:{keyPage(){return this.page*this.jumlah.length-this.jumlah.length},navigation(n){switch(n){case"previous":this.page-=1;break;case"next":this.page+=1;break;case"first":this.page=1;break;case"last":this.page=this.listPertemuan.length%this.jumlah.length==0?this.listPertemuan.length/this.jumlah.length:(this.listPertemuan.length-this.listPertemuan.length%this.jumlah.length)/this.jumlah.length+1;break}},async updateSubmitTugas(n,e,o){try{let l=(await P.post("murid/updateTugas/"+this.listPertemuan[n].tugas[e].id,{link:this.listPertemuan[n].tugas[e].submit_link})).data.data;this.listPertemuan[n].tugas[e].editMode=!1,this.listPertemuanC[n].tugas[e].submit_link=this.listPertemuan[n].tugas[e].submit_link,o?this.messageF(o,status):this.messageF("berhasil menupdate link submit "+this.listPertemuan[n].tugas[e].submit_link,!0)}catch(l){console.log("error"),console.log(l)}},async refreshTugas(n,e){try{this.listPertemuan[n]=JSON.parse(JSON.stringify(this.listPertemuanC[n])),e?this.messageF(e,status):this.messageF("Refresh Tugas",!0)}catch(o){console.log("error"),console.log(o)}},async downloadFile(n){try{P({url:encodeURI("http://localhost:5000/upload/"+n),method:"GET",responseType:"blob"}).then(e=>{console.log(e);var o=window.URL.createObjectURL(new Blob([e.data])),l=document.createElement("a");l.href=o,l.setAttribute("download",n),document.body.appendChild(l),l.click()}).catch(e=>{console.log("data tidak ada"),this.messageF(`file ${n} tidak ditemukan`,!1)})}catch(e){console.log("error"),console.log(e)}},viewFileF(n){console.log("asdsad"),this.viewFile[n]=!0,console.log(n)},messageF(n,e){this.displayMessage=!0,this.messageStatus=e,this.message=n||"terjadi error",setTimeout(()=>{this.displayMessage=!1,this.message="terjadi error"},3e3)}}},mt=Object.assign(ht,{__name:"pertemuan",setup(n){return(e,o)=>(s(),a(y,null,[t("main",D,[V(z),t("div",U,[x,e.listPertemuan.length==0?(s(!0),a(y,{key:0},k(e.jumlah,l=>(s(),a("div",R,Y))),256)):h("",!0),e.listPertemuan?h("",!0):(s(),a("div",K,"Data Tidak Tersedia")),t("div",Q,[e.listPertemuan.length?(s(!0),a(y,{key:0},k(e.jumlah,(l,i)=>(s(),a("div",q,[e.listPertemuan[e.keyPage()+i]?(s(),a("h2",{key:0,class:"accordion-header",id:"panelsStayOpen-"+f(w).convertToText(e.keyPage()+i+1).replace(" ","")},[t("div",{class:S(["accordion-button collapsed text-dark bg-opacity-10",{"bg-light":new Date(e.listPertemuan[e.keyPage()+i].date)>=new Date,"bg-success":e.listPertemuan[e.keyPage()+i].absen,"bg-danger":e.listPertemuan[e.keyPage()+i].absen===null}]),type:"button","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapse"+f(w).convertToText(e.keyPage()+i+1).replace(" ",""),"aria-expanded":"false","aria-controls":"#panelsStayOpen-collapse"+f(w).convertToText(e.keyPage()+i+1).replace(" ","")},[t("div",Z,[t("div",W,c(e.listPertemuan[e.keyPage()+i].date1),1),t("p",X,c(e.listPertemuan[e.keyPage()+i].name)+" - "+c(e.listPertemuan[e.keyPage()+i].ket),1)])],10,I)],8,G)):h("",!0),e.listPertemuan[e.keyPage()+i]&&new Date(e.listPertemuan[e.keyPage()+i].date)<=new Date?(s(),a("div",{key:1,id:"panelsStayOpen-collapse"+f(w).convertToText(e.keyPage()+i+1).replace(" ",""),class:"accordion-collapse collapse","aria-labelledby":"panelsStayOpen-heading"+f(w).convertToText(e.keyPage()+i+1).replace(" ","")},[t("div",te,[e.listPertemuan[e.keyPage()+i].tugas?(s(),a("div",se,[t("div",ae,[e.listPertemuan[e.keyPage()+i].absen===null?(s(),a("div",ne," Tidak Memiliki Akses Ke Materi ")):Array.isArray(e.listPertemuan[e.keyPage()+i].file)&&e.listPertemuan[e.keyPage()+i].file.length==0?(s(),a("div",ie," tidak ada Materi ")):(s(),a("div",oe,[le,(s(!0),a(y,null,k(e.listPertemuan[e.keyPage()+i].file,(r,p)=>(s(),a("div",re,[t("div",de,[/jpg|png|jpeg/i.test(/[^\.]+$/i.exec(r.file)[0])?(s(),a("div",ce,[t("img",{src:"http://localhost:5000/upload/"+r.file,class:"img-fluid rounded-start p-1",alt:r.file.replace(/^\d*-/i,"")},null,8,he)])):h("",!0),t("div",ue,[t("div",ge,[t("h6",pe,c(r.file.replace(/^\d*-/i,"")),1),t("p",me,c(r.ket),1)]),t("button",{class:"btn btn-sm btn-light",type:"button",onClick:m=>e.downloadFile(r.file)},ye,8,be)])])]))),256))])),Array.isArray(e.listPertemuan[e.keyPage()+i].tugas)&&e.listPertemuan[e.keyPage()+i].tugas.length==0?(s(),a("div",fe," tidak ada tugas ")):(s(),a("div",we,[_e,t("table",ke,[t("thead",null,[t("tr",Pe,[t("th",Te,[t("button",{class:"btn btn-sm btn-outline-warning",type:"button",onClick:r=>e.refreshTugas(i)},Se,8,Ce)]),Me,Ae,Fe,Ve,Oe])]),t("tbody",null,[(s(!0),a(y,null,k(e.listPertemuan[e.keyPage()+i].tugas,(r,p)=>(s(),a("tr",null,[t("td",Le,c(p+1),1),t("td",$e,c(r.name),1),t("td",ze,c(r.description),1),t("td",He,[r.editMode?(s(),a("button",{key:0,class:"btn btn-sm btn-outline-danger",type:"button",onClick:m=>e.updateSubmitTugas(e.keyPage()+i,p)},Be,8,Ne)):(s(),a("button",{key:1,class:"btn btn-sm btn-outline-warning",type:"button",onClick:m=>r.score?!0:e.listPertemuan[e.keyPage()+i].tugas[p].editMode=!0},xe,8,De))]),r.editMode?(s(),a("td",Re,[O(t("input",{"onUpdate:modelValue":m=>e.listPertemuan[e.keyPage()+i].tugas[p].submit_link=m,class:"form-control form-control-sm",type:"text"},null,8,Je),[[L,e.listPertemuan[e.keyPage()+i].tugas[p].submit_link]])])):(s(),a("td",Ye,c(r.submit_link),1)),t("td",Ke,c(r.score||"-"),1)]))),256))])])]))])])):(s(),a("div",Qe,Ge))])],8,ee)):h("",!0)]))),256)):h("",!0)]),e.listPertemuan.length>0?(s(),a("nav",Ie,[t("ul",Ze,[e.page!=1?(s(),a("li",We,[t("button",{class:"page-link text-warning",onClick:o[0]||(o[0]=l=>e.navigation("first"))},"1")])):h("",!0),e.page>3?(s(),a("li",Xe,tt)):h("",!0),e.page>2?(s(),a("li",st,[t("button",{class:"page-link text-warning",onClick:o[1]||(o[1]=l=>e.navigation("previous"))},c(e.page-1),1)])):h("",!0),t("li",at,[t("button",nt,c(e.page),1)]),(e.page+1)*e.jumlah.length<e.listPertemuan.length?(s(),a("li",it,[t("button",{class:"page-link text-warning",onClick:o[2]||(o[2]=l=>e.navigation("next"))},c(e.page+1),1)])):h("",!0),(e.page+2)*e.jumlah.length<e.listPertemuan.length?(s(),a("li",ot,rt)):h("",!0),e.page*e.jumlah.length<e.listPertemuan.length?(s(),a("li",dt,[t("button",{class:"page-link text-warning",onClick:o[3]||(o[3]=l=>e.navigation("last"))},c(e.listPertemuan.length%e.jumlah.length==0?e.listPertemuan.length/e.jumlah.length:(e.listPertemuan.length-e.listPertemuan.length%e.jumlah.length)/e.jumlah.length+1),1)])):h("",!0)])])):h("",!0)])]),e.displayMessage?(s(),a("div",ct,[t("div",{class:S([{"alert-danger":!e.messageStatus,"alert-success":e.messageStatus},"alert d-none d-lg-block"])},c(e.message),3)])):h("",!0)],64))}});export{mt as default};
