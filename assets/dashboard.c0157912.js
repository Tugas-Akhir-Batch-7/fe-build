import{p as m,o as i,c as a,a as t,d as b,F as h,i as p,k as l,t as o,q as j,g as u,b as c,v as k}from"./index.6b43fdec.js";import{s as y}from"./sidebar.0b0d547a.js";const U={class:"d-flex flex-nowrap"},v={class:"d-flex flex-column flex-fill p-3"},w=t("div",{class:"nav-tabs d-flex justify-content-between"},[t("h3",{class:"nav-link active bg-light text-warning"},"Ujian")],-1),f={class:"table table-hover text-center align-middle",style:{"margin-bottom":"2em"}},P=t("thead",null,[t("tr",null,[t("th",{scope:"col"}),t("th",{scope:"col"},"Name Ujian"),t("th",{scope:"col"},"Pengawas"),t("th",{scope:"col"},"Date"),t("th",{scope:"col"},"TIme"),t("th",{scope:"col"},"Score"),t("th",{scope:"col"},"Peringkat"),t("th",{scope:"col"},"Submit Link")])],-1),_=t("td",{style:{padding:"8px",border:"10px solid white","background-color":"rgb(240, 240, 240)",color:"rgb(240, 240, 240)"}},"-",-1),M=t("td",{style:{padding:"8px",border:"10px solid white","background-color":"rgb(240, 240, 240)",color:"rgb(240, 240, 240)"}},"-",-1),C=t("td",{style:{padding:"8px",border:"10px solid white","background-color":"rgb(240, 240, 240)",color:"rgb(240, 240, 240)"}},"-",-1),D=t("td",{style:{padding:"8px",border:"10px solid white","background-color":"rgb(240, 240, 240)",color:"rgb(240, 240, 240)"}},"-",-1),S=t("td",{style:{padding:"8px",border:"10px solid white","background-color":"rgb(240, 240, 240)",color:"rgb(240, 240, 240)"}},"-",-1),T=t("td",{style:{padding:"8px",border:"10px solid white","background-color":"rgb(240, 240, 240)",color:"rgb(240, 240, 240)"}},"-",-1),V=t("td",{style:{padding:"8px",border:"10px solid white","background-color":"rgb(240, 240, 240)",color:"rgb(240, 240, 240)"}},"-",-1),N=t("td",{style:{padding:"8px",border:"10px solid white","background-color":"rgb(240, 240, 240)",color:"rgb(240, 240, 240)"}},"-",-1),$=[_,M,C,D,S,T,V,N],z={key:1},B=t("td",{colspan:"10",class:"text-center"},"Data Tidak Tersedia",-1),F=[B],Y={key:0,style:{width:"5%","text-align":"center"}},L={key:1},H={key:2},q={key:3},A={key:4},E={key:5},I={key:6},O={key:7},G={style:{margin:"0px"}},J={key:0,class:"d-flex",style:{margin:"0px"}},K=["onUpdate:modelValue"],Q=["onClick"],R={key:1,class:"d-flex",style:{margin:"0px"}},W={class:"w-100"},X=["onClick"],Z=t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-pencil",viewBox:"0 0 16 16"},[t("path",{d:"M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"})],-1),x=[Z],ee={key:0,"aria-label":"Page navigation example",style:{"margin-top":"2%"}},te={class:"pagination justify-content-center"},se={key:0,class:"page-item"},ie={key:1,class:""},ae=t("button",{class:"page-link",style:{}},". . .",-1),ne=[ae],le={key:2,class:"page-item"},oe={class:"page-item active"},re={class:"page-link bg-warning border border-warning"},de={key:3,class:"page-item"},ge={key:4,class:""},he=t("button",{class:"page-link",style:{}},". . .",-1),ue=[he],pe={key:5,class:"page-item"},me={key:0,class:"min-vw-100 position-fixed top-0 text-center",style:{}};m().format();const be={data:()=>({listUjian:[],page:1,jumlah:[0,0,0,0,0,0,0,0,0,0],editMode:!1,displayMessage:!1}),async mounted(){try{u.defaults.headers.common.token=await this.$store.getters["auth/token"],this.listUjian=(await u.get("murid/dataUjian/",{})).data.data,this.listUjian.length==0&&(this.listUjian=!1);for(let n=0;n<this.listUjian.length;n++)this.listUjian[n].date1=m(this.listUjian[n].date).format("dddd, DD MMMM YYYY, HH:mm")}catch(n){console.log("error"),console.log(n)}},methods:{keyPage(){return this.page*this.jumlah.length-this.jumlah.length},navigation(n){switch(n){case"previous":this.page-=1;break;case"next":this.page+=1;break;case"first":this.page=1;break;case"last":this.page=this.listUjian.length%this.jumlah.length==0?this.listUjian.length/this.jumlah.length:(this.listUjian.length-this.listUjian.length%this.jumlah.length)/this.jumlah.length+1;break}},async updateSubmitTugas(n){try{let e=(await u.post("murid/updateUjian/"+this.listUjian[n].id,{link:this.listUjian[n].submit_link})).data.data;this.listUjian[n].editMode=!1,this.messageF("berhasil menupdate link submit "+this.listUjian[n].submit_link,!0)}catch(e){console.log("error"),console.log(e)}},editUjian(n,e){try{return new Date(new Date(e).getTime()+(Number(n.split(":")[0])*60*60*1e3+Number(n.split(":")[1])*60*1e3+Number(n.split(":")[2])*1e3))>=new Date}catch(r){console.log("error"),console.log(r)}},messageF(n,e){this.displayMessage=!0,this.messageStatus=e,this.message=n||"terjadi error",setTimeout(()=>{this.displayMessage=!1,this.message="terjadi error"},3e3)}}},ke=Object.assign(be,{__name:"dashboard",setup(n){return(e,r)=>(i(),a(h,null,[t("main",U,[b(y),t("div",v,[w,t("table",f,[P,t("tbody",null,[e.listUjian.length==0?(i(!0),a(h,{key:0},p(e.jumlah,d=>(i(),a("tr",null,$))),256)):l("",!0),e.listUjian?l("",!0):(i(),a("tr",z,F)),e.listUjian.length?(i(!0),a(h,{key:2},p(e.jumlah,(d,s)=>(i(),a("tr",null,[e.listUjian[e.keyPage()+s]?(i(),a("td",Y,o(e.keyPage()+s+1),1)):l("",!0),e.listUjian[e.keyPage()+s]?(i(),a("td",L,o(e.listUjian[e.keyPage()+s].name),1)):l("",!0),e.listUjian[e.keyPage()+s]?(i(),a("td",H,o(e.listUjian[e.keyPage()+s].pengawas),1)):l("",!0),e.listUjian[e.keyPage()+s]?(i(),a("td",q,o(e.listUjian[e.keyPage()+s].date1),1)):l("",!0),e.listUjian[e.keyPage()+s]?(i(),a("td",A,o(e.listUjian[e.keyPage()+s].time.substring(0,5)),1)):l("",!0),e.listUjian[e.keyPage()+s]?(i(),a("td",E,o(e.listUjian[e.keyPage()+s].score||"-"),1)):l("",!0),e.listUjian[e.keyPage()+s]?(i(),a("td",I,o(e.listUjian[e.keyPage()+s].rangking=="0"?"-":e.listUjian[e.keyPage()+s].rangking),1)):l("",!0),e.listUjian[e.keyPage()+s]?(i(),a("td",O,[t("div",G,[e.listUjian[e.keyPage()+s].editMode&&e.editUjian(e.listUjian[e.keyPage()+s].time,e.listUjian[e.keyPage()+s].date)?(i(),a("div",J,[c(t("input",{class:"form-control form-control-sm",type:"text","onUpdate:modelValue":g=>e.listUjian[e.keyPage()+s].submit_link=g},null,8,K),[[k,e.listUjian[e.keyPage()+s].submit_link]]),t("button",{type:"button",class:"btn-sm btn btn-outline-warning",style:{"margin-left":"1em"},onClick:g=>e.updateSubmitTugas(e.keyPage()+s)}," save ",8,Q)])):(i(),a("div",R,[t("div",W,o(e.listUjian[e.keyPage()+s].submit_link),1),e.editUjian(e.listUjian[e.keyPage()+s].time,e.listUjian[e.keyPage()+s].date)?(i(),a("button",{key:0,type:"button",class:"btn-sm btn btn-outline-warning",style:{"margin-left":"1em"},onClick:g=>e.listUjian[e.keyPage()+s].editMode=!0},x,8,X)):l("",!0)]))])])):l("",!0)]))),256)):l("",!0)])]),e.listUjian.length>0?(i(),a("nav",ee,[t("ul",te,[e.page!=1?(i(),a("li",se,[t("button",{class:"page-link text-warning",onClick:r[0]||(r[0]=d=>e.navigation("first"))},"1")])):l("",!0),e.page>2?(i(),a("li",ie,ne)):l("",!0),e.page>2?(i(),a("li",le,[t("button",{class:"page-link text-warning",onClick:r[1]||(r[1]=d=>e.navigation("previous"))},o(e.page-1),1)])):l("",!0),t("li",oe,[t("button",re,o(e.page),1)]),(e.page+1)*e.jumlah.length<e.listUjian.length?(i(),a("li",de,[t("button",{class:"page-link text-warning",onClick:r[2]||(r[2]=d=>e.navigation("next"))},o(e.page+1),1)])):l("",!0),(e.page+1)*e.jumlah.length<e.listUjian.length?(i(),a("li",ge,ue)):l("",!0),e.page*e.jumlah.length<e.listUjian.length?(i(),a("li",pe,[t("button",{class:"page-link text-warning",onClick:r[3]||(r[3]=d=>e.navigation("last"))},o(e.listUjian.length%e.jumlah.length==0?e.listUjian.length/e.jumlah.length:(e.listUjian.length-e.listUjian.length%e.jumlah.length)/e.jumlah.length+1),1)])):l("",!0)])])):l("",!0)])]),e.displayMessage?(i(),a("div",me,[t("div",{class:j([{"alert-danger":!e.messageStatus,"alert-success":e.messageStatus},"alert d-none d-lg-block"])},o(e.message),3)])):l("",!0)],64))}});export{ke as default};
