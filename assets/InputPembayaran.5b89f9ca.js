import{_ as c,o as r,c as o,a,w as u,b as l,h,F as b,i as f,v as m,t as g}from"./index.6b43fdec.js";const p={data(){return{form:{kekurangan:"",bayar:"",id_tagihan:""},listData:[]}},computed:{listMuridMendaftar(){return this.$store.getters["murid/listMurid"]},listTagihan(){return this.$store.getters["tagihan/listTagihan"]}},async beforeCreate(){await this.$store.dispatch("murid/fetchMuridMendaftar"),await this.$store.dispatch("tagihan/fetchTagihanAndTerbayar")},methods:{async onSubmit(){try{await this.$store.dispatch("pembayaran/createPembayaran",this.form),await this.$router.push("/admin/list-pembayaran")}catch{}},async onChangeTagihan(n){console.log(n.target.value);let e=this.listTagihan.find(d=>d.id==n.target.value);this.form.kekurangan=e.kekurangan},clickSetLunas(){this.form.bayar=this.form.kekurangan}}},_={class:"container p-4"},k={class:"row"},y={class:"col-8"},v=a("h2",null,"Input Pembayaran",-1),T={class:"my-4"},S={class:"mb-3"},M=a("label",{for:"murid",class:"form-label"},"Tagihan",-1),w=a("option",{value:"",disabled:""},"Pilih Murid",-1),x=["value"],C={class:"mb-3"},L=a("label",{for:"tagihan",class:"form-label"},"Jumlah kekurangan",-1),B={class:"mb-3"},P=a("label",{for:"dp",class:"form-label"},"Bayar",-1),V={class:"d-flex"},D=["max"],U=a("div",{class:"my-4"},[a("input",{class:"btn btn-primary",type:"submit",value:"Submit"})],-1);function F(n,e,d,I,s,i){return r(),o("div",_,[a("div",k,[a("div",y,[v,a("div",T,[a("form",{onSubmit:e[5]||(e[5]=u((...t)=>i.onSubmit&&i.onSubmit(...t),["prevent"]))},[a("div",S,[M,l(a("select",{name:"murid",id:"murid",class:"form-control","onUpdate:modelValue":e[0]||(e[0]=t=>s.form.id_tagihan=t),onChange:e[1]||(e[1]=t=>i.onChangeTagihan(t))},[w,(r(!0),o(b,null,f(i.listTagihan,t=>(r(),o("option",{value:t.id,key:t.id},g(t.name),9,x))),128))],544),[[h,s.form.id_tagihan]])]),a("div",C,[L,l(a("input",{disabled:"","onUpdate:modelValue":e[2]||(e[2]=t=>s.form.kekurangan=t),type:"number",class:"form-control",id:"tagihan",placeholder:"Total tagihan akan tergenerate otomatis sesuai murid yang dipilih"},null,512),[[m,s.form.kekurangan]])]),a("div",B,[P,a("div",V,[l(a("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>s.form.bayar=t),type:"number",class:"form-control",id:"dp",placeholder:"contoh: 1000000",max:s.form.kekurangan,required:""},null,8,D),[[m,s.form.bayar]]),a("button",{onClick:e[4]||(e[4]=u((...t)=>i.clickSetLunas&&i.clickSetLunas(...t),["prevent"])),class:"btn btn-success ms-4 px-4"},"Lunas")])]),U],32)])])])])}var A=c(p,[["render",F]]);export{A as default};
